{"version":3,"sources":["components/TreeViewMenu/walk.js","components/TreeViewMenu/renderProps.js","components/TreeViewMenu/index.js","DemoPage/transpose.js","DemoPage/renderProps.js","DemoPage/index.js"],"names":["walk","data","props","Object","entries","sort","a","b","index","reduce","all","_ref","_ref2","slicedToArray","nodeName","node","toConsumableArray","concat","key","generateBranch","_props$parent","parent","_props$level","level","openNodes","searchTerm","nodes","label","nodePath","filter","x","join","isOpen","includes","currentItem","toLowerCase","trim","objectSpread","nextLevelItems","ToggleIcon","on","react_default","createElement","ToggleIconContainer","styled","_ref2$level","position","left","width","height","ListItemContainer","_ref3","_ref3$level","active","paddingLeft","DEFAULT_PADDING","cursor","color","background","ListGroup","listStyleType","Input","margin","TreeViewMenu","state","onSearch","e","value","target","_this","search","setState","toggleNode","openNode","getOnClickItem","onClickItem","loadListItems","_this$props","activeKey","renderItem","_this$state","map","onClick","hasSubItems","timeout","debounceTime","this","debounce_default","searchFunction","_this$props2","renderList","Fragment","items","React","Component","defaultProps","console","log","_ref5","_ref5$hasSubItems","_ref5$isOpen","_ref5$level","objectWithoutProperties","assign","renderProps_ToggleIcon","_ref4","placeholder","onChange","transposeSpace","space","spaceIndex","content","pages","allPages","currentPage","pageIndex","t","url","u","isSpace","m","parentPage","p","path","split","splice","length","newObj","createObjFromKeys","_ref$obj","obj","keys","shift","cleanPath","merge_default","transpose","Array","isArray","allSpaces","currentSpace","currentSpacePages","ListGroupItemWithPadding","ListGroupItem_default","renderProps_ToggleIconContainer","DemoPage_renderProps_ToggleIcon","InputGroup_default","InputGroupAddon_default","addonType","Input_default","ListGroup_default","DemoPage","treeData","processData","navigate","history","push","_this2","components_TreeViewMenu","get_default","withRouter"],"mappings":"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","file":"static/js/1.9e3e32bd.chunk.js","sourcesContent":["const walk = (data, props) =>\n  Object.entries(data)\n    .sort((a, b) => a[1].index - b[1].index)\n    .reduce(\n      (all, [nodeName, node]) => [\n        ...all,\n        ...(node.key ? generateBranch(node, nodeName, props) : []),\n      ],\n      [],\n    );\n\nconst generateBranch = (node, nodeName, props) => {\n  const { parent = '', level = 0, openNodes, searchTerm } = props;\n  const { nodes, label } = node;\n  const nodePath = [parent, nodeName].filter(x => x).join('/');\n  const isOpen = !!nodes && (openNodes.includes(nodePath) || !!searchTerm);\n  const isVisible =\n    !searchTerm ||\n    label.toLowerCase().includes(searchTerm.trim().toLowerCase());\n\n  const currentItem = isVisible && {\n    isOpen,\n    nodePath,\n    ...props,\n    ...node,\n  };\n  const nextLevelItems = isOpen\n    ? walk(nodes, { ...props, parent: nodePath, level: level + 1 })\n    : [];\n\n  return [currentItem, ...nextLevelItems].filter(x => x);\n};\n\nexport default walk;\n","import React from 'react';\nimport styled from 'react-emotion';\n\nconst DEFAULT_PADDING = 1.25;\nconst LEVEL_SPACE = 1.25;\nconst ICON_SIZE = 1;\nconst ToggleIcon = ({ on }) => <div>{on ? '-' : '+'}</div>;\n\nconst ToggleIconContainer = styled('div')(({ level = 0 }) => ({\n  position: 'absolute',\n  left: `${ICON_SIZE + level * LEVEL_SPACE}rem`,\n  width: `${ICON_SIZE}rem`,\n  height: `${ICON_SIZE}rem`,\n}));\n\nconst ListItemContainer = styled('li')(({ level = 0, active }) => ({\n  paddingLeft: `${DEFAULT_PADDING + ICON_SIZE + level * LEVEL_SPACE}rem`,\n  cursor: 'pointer',\n  color: active ? 'white' : '#333',\n  background: active ? '#179ed3' : 'none',\n}));\n\nconst ListGroup = styled('ul')({\n  listStyleType: 'none',\n  paddingLeft: 0,\n});\n\nconst Input = styled('input')({\n  margin: '.5em',\n  paddingLeft: '.4em',\n});\n\nexport const renderList = ({ onSearch, items }) => (\n  <>\n    {onSearch && <Input placeholder=\"Type and search\" onChange={onSearch} />}\n    <ListGroup>{items}</ListGroup>\n  </>\n);\n\nexport const renderItem = ({\n  hasSubItems = false,\n  isOpen = false,\n  level = 0,\n  onClick,\n  active,\n  key,\n  label,\n  ...props\n}) => (\n  <ListItemContainer\n    level={level}\n    onClick={onClick}\n    active={active}\n    key={key}\n    {...props}\n  >\n    {hasSubItems && (\n      <ToggleIconContainer level={level}>\n        <ToggleIcon on={isOpen} />\n      </ToggleIconContainer>\n    )}\n    {label}\n  </ListItemContainer>\n);\n","import React from 'react';\nimport { debounce } from 'lodash';\n\nimport walk from './walk';\nimport {\n  renderItem as defaultRenderItem,\n  renderList as defaultRenderList,\n} from './renderProps';\n\nconst defaultOnClick = props => console.log(props); // eslint-disable-line no-console\n\nconst getDebouncedSearch = timeout =>\n  debounce((searchFunction, value) => searchFunction(value), timeout);\n\nclass TreeViewMenu extends React.Component {\n  static defaultProps = {\n    data: null,\n    activeKey: '',\n    search: false,\n    onClickItem: defaultOnClick,\n    debounceTime: 125,\n    renderItem: defaultRenderItem,\n    renderList: defaultRenderList,\n  };\n\n  state = { openNodes: [], searchTerm: '' };\n\n  componentDidMount() {\n    const { debounceTime } = this.props;\n    this.search = getDebouncedSearch(debounceTime);\n  }\n\n  onSearch = e => {\n    const { value } = e.target;\n    this.search(searchTerm => this.setState({ searchTerm }), value);\n  };\n\n  toggleNode = node => {\n    const { openNodes } = this.state;\n    if (openNodes.includes(node)) {\n      this.setState({\n        openNodes: openNodes.filter(openNode => openNode !== node),\n      });\n    } else {\n      this.setState({ openNodes: [...openNodes, node] });\n    }\n  };\n\n  getOnClickItem = props => () => {\n    const { onClickItem } = this.props;\n    onClickItem(props);\n    this.toggleNode(props.nodePath);\n  };\n\n  loadListItems = () => {\n    const { data, activeKey, renderItem } = this.props;\n    const { openNodes, searchTerm } = this.state;\n\n    const items = walk(data, { openNodes, searchTerm });\n\n    return items.map(({ isOpen, nodes, key, level, nodePath, label }) => {\n      const onClick = this.getOnClickItem({ nodePath, label, key });\n      return renderItem({\n        hasSubItems: !!nodes,\n        isOpen,\n        level,\n        onClick,\n        active: key === activeKey,\n        key: nodePath,\n        label,\n      });\n    });\n  };\n\n  render() {\n    const { data, search, renderList } = this.props;\n    return (\n      <>\n        {renderList({\n          onSearch: search ? this.onSearch : null,\n          items: data ? this.loadListItems() : [],\n        })}\n      </>\n    );\n  }\n}\n\nexport default TreeViewMenu;\n","import { merge } from 'lodash';\n\nconst createObjFromKeys = ({ obj = {}, keys, value }) => {\n  if (keys.length === 1) {\n    obj[keys[0]] = value;\n  } else {\n    const key = keys.shift();\n    obj[key] = obj[key] || {};\n    obj[key].nodes = {\n      ...obj[key].nodes,\n      ...createObjFromKeys({\n        obj: typeof obj[key].nodes === 'undefined' ? {} : obj[key].nodes,\n        keys,\n        value\n      })\n    };\n  }\n\n  return obj;\n};\n\nconst cleanPath = path =>\n  path\n    .split('/')\n    .filter(x => x)\n    .join('/');\n\nconst transposeSpace = ({ space, spaceIndex }) => {\n  const { content } = space;\n  return content.pages.reduce((allPages, currentPage, pageIndex) => {\n    const label = currentPage.t;\n    const url = currentPage.u;\n    const isSpace = !!currentPage.m;\n    const parentPage = currentPage.p;\n    const path = url.split('/').filter(x => x);\n\n    // if it has a parent page, insert it to have complete nodes\n    if (parentPage) path.splice(path.length - 1, 0, parentPage);\n\n    const newObj = createObjFromKeys({\n      keys: path,\n      value: {\n        label,\n        key: cleanPath(url),\n        index: isSpace ? spaceIndex : pageIndex\n      }\n    });\n    return merge(newObj, allPages);\n  }, {});\n};\n\nconst transpose = ({ data, index }) => {\n  if (Array.isArray(data))\n    return data.reduce((allSpaces, currentSpace, spaceIndex) => {\n      const currentSpacePages = transposeSpace({\n        space: currentSpace,\n        spaceIndex\n      });\n      return {\n        ...allSpaces,\n        ...currentSpacePages\n      };\n    }, {});\n  return transposeSpace({\n    space: data,\n    spaceIndex: index\n  });\n};\n\nexport default transpose;\n","import React from 'react';\nimport styled from 'react-emotion';\nimport {\n  ListGroupItem as DefaultListGroupItem,\n  ListGroup,\n  InputGroup,\n  InputGroupAddon,\n  Input,\n} from 'reactstrap';\n\nconst DEFAULT_PADDING = 1.25;\nconst LEVEL_SPACE = 1.25;\nconst ICON_SIZE = 1;\nconst ToggleIcon = ({ on }) => <div>{on ? '-' : '+'}</div>;\n\nconst ToggleIconContainer = styled('div')(({ level = 0 }) => ({\n  position: 'absolute',\n  left: `${ICON_SIZE + level * LEVEL_SPACE}rem`,\n  width: `${ICON_SIZE}rem`,\n  height: `${ICON_SIZE}rem`,\n}));\n\nconst ListGroupItemWithPadding = styled(DefaultListGroupItem)(\n  ({ level = 0 }) => ({\n    paddingLeft: `${DEFAULT_PADDING + ICON_SIZE + level * LEVEL_SPACE}rem`,\n    cursor: 'pointer',\n  }),\n);\n\nexport const renderItem = ({ hasSubItems, isOpen, level, label, ...props }) => (\n  <ListGroupItemWithPadding level={level} {...props}>\n    {hasSubItems && (\n      <ToggleIconContainer level={level}>\n        <ToggleIcon on={isOpen} />\n      </ToggleIconContainer>\n    )}\n    {label}\n  </ListGroupItemWithPadding>\n);\n\nexport const renderList = ({ onSearch, items }) => (\n  <>\n    <InputGroup>\n      <InputGroupAddon addonType=\"prepend\">Search</InputGroupAddon>\n      <Input onChange={onSearch} />\n    </InputGroup>\n    <ListGroup>{items}</ListGroup>\n  </>\n);\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { get } from 'lodash';\n\nimport TreeViewMenu from '../components/TreeViewMenu';\nimport data from '../data/spaces.json';\nimport transpose from './transpose';\nimport { renderItem, renderList } from './renderProps';\n\nconst cleanPath = path =>\n  path\n    .split('/')\n    .filter(x => x)\n    .join('/');\n\nclass DemoPage extends Component {\n  static getDerivedStateFromProps(props) {\n    const path = get(props, 'location.pathname');\n\n    return { path };\n  }\n\n  state = { path: '', treeData: null };\n\n  componentDidMount() {\n    this.processData();\n  }\n\n  processData = () => {\n    const treeData = transpose({ data });\n    this.setState({ treeData });\n  };\n\n  navigate = key => {\n    const { history } = this.props;\n    history.push(`/${key}`);\n  };\n\n  render() {\n    const { path, treeData } = this.state;\n    const activeKey = cleanPath(path);\n    return (\n      <>\n        {treeData && (\n          <TreeViewMenu\n            data={treeData}\n            activeKey={activeKey}\n            search\n            onClickItem={({ nodePath, label, key }) => {\n              this.navigate(key);\n              console.log({ nodePath, label, key }); // eslint-disable-line no-console\n            }}\n            debounceTime={125}\n            renderItem={renderItem}\n            renderList={renderList}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withRouter(DemoPage);\n"],"sourceRoot":""}